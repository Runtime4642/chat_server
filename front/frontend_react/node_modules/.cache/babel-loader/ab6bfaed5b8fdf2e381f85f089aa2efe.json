{"ast":null,"code":"import _regeneratorRuntime from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\src\\\\containers\\\\modal\\\\WorkTimeModalContainer.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport WorkTimeModal from 'components/modal/WorkTimeModal';\nimport * as worktimeActions from 'store/modules/worktime';\nimport * as paginationList from 'store/modules/pagination';\n\nclass WorkTimeModalContainer extends Component {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n\n    this.startTimeChange = e => {\n      const value = e.target.value;\n      const WorkTimeActions = this.props.WorkTimeActions;\n      WorkTimeActions.changeStartTimeInput(value);\n    };\n\n    this.endTimeChange = e => {\n      const value = e.target.value;\n      const WorkTimeActions = this.props.WorkTimeActions;\n      WorkTimeActions.changeEndTimeInput(value);\n    };\n\n    this.handleChangeInput = ({\n      name,\n      value\n    }) => {\n      const WorkTimeActions = this.props.WorkTimeActions;\n      WorkTimeActions.changeInput({\n        name,\n        value\n      });\n    };\n\n    this.handleGetModal = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(no) {\n        var _this$props, WorkTimeActions, token;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this$props = _this.props, WorkTimeActions = _this$props.WorkTimeActions, token = _this$props.token;\n              _context.prev = 1;\n              _context.next = 4;\n              return WorkTimeActions.getWorkTimeData(no, token);\n\n            case 4:\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[1, 6]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    this.handleSubmit = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var _this$props2, WorkTimeActions, PaginationActions, activePage, start, end, use, no, token, language;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _this$props2 = _this.props, WorkTimeActions = _this$props2.WorkTimeActions, PaginationActions = _this$props2.PaginationActions, activePage = _this$props2.activePage, start = _this$props2.start, end = _this$props2.end, use = _this$props2.use, no = _this$props2.no, token = _this$props2.token, language = _this$props2.language;\n            /*\r\n                    const pageNumber = 1\r\n                      PaginationActions.pageChange({activePage, pageNumber});\r\n            */\n\n            _context2.prev = 1;\n            _context2.next = 4;\n            return WorkTimeActions.editWorkTimeData(no, start, end, use, token, language);\n\n          case 4:\n            _context2.next = 6;\n            return PaginationActions.getWorkTimeTotal(token);\n\n          case 6:\n            _context2.next = 8;\n            return WorkTimeActions.getWorkTimeList(activePage, token);\n\n          case 8:\n            _context2.next = 13;\n            break;\n\n          case 10:\n            _context2.prev = 10;\n            _context2.t0 = _context2[\"catch\"](1);\n            console.log(_context2.t0);\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[1, 10]]);\n    }));\n    this.handleRemove = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var _this$props3, WorkTimeActions, PaginationActions, no, activePage, token, language, pageNumber;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _this$props3 = _this.props, WorkTimeActions = _this$props3.WorkTimeActions, PaginationActions = _this$props3.PaginationActions, no = _this$props3.no, activePage = _this$props3.activePage, token = _this$props3.token, language = _this$props3.language;\n            pageNumber = 1;\n            PaginationActions.pageChange({\n              activePage,\n              pageNumber\n            });\n            _context3.prev = 3;\n            _context3.next = 6;\n            return WorkTimeActions.removeWorkTimeData(no, token, language);\n\n          case 6:\n            _context3.next = 8;\n            return PaginationActions.getWorkTimeTotal(token);\n\n          case 8:\n            _context3.next = 10;\n            return WorkTimeActions.getWorkTimeList(pageNumber, token);\n\n          case 10:\n            _context3.next = 15;\n            break;\n\n          case 12:\n            _context3.prev = 12;\n            _context3.t0 = _context3[\"catch\"](3);\n            console.log(_context3.t0);\n\n          case 15:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3, null, [[3, 12]]);\n    }));\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextProps.no !== this.props.no) {\n      this.handleGetModal(nextProps.no);\n    }\n\n    return true;\n  }\n\n  render() {\n    const _this$props4 = this.props,\n          visible = _this$props4.visible,\n          start = _this$props4.start,\n          end = _this$props4.end,\n          use = _this$props4.use,\n          loading = _this$props4.loading,\n          editDisabled = _this$props4.editDisabled,\n          language = _this$props4.language;\n    const handleChangeInput = this.handleChangeInput,\n          handleSubmit = this.handleSubmit,\n          handleRemove = this.handleRemove;\n    if (loading) return null;\n    return /*#__PURE__*/React.createElement(WorkTimeModal, {\n      visible: visible,\n      start: start,\n      end: end,\n      use: use,\n      editDisabled: editDisabled,\n      language: language,\n      onChangeInput: handleChangeInput,\n      onSubmit: handleSubmit,\n      onRemove: handleRemove,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n\nexport default connect(state => ({\n  visible: state.worktime.get('modal'),\n  no: state.worktime.get('no'),\n  start: state.worktime.get('start'),\n  end: state.worktime.get('end'),\n  use: state.worktime.get('use'),\n  editDisabled: state.worktime.get('editDisabled'),\n  token: state.login.token,\n  activePage: state.pagination.get('activePage'),\n  loading: state.pender.pending['list/GET_COMMUTE_BETWEEN'],\n  language: state.language.language\n}), dispatch => ({\n  WorkTimeActions: bindActionCreators(worktimeActions, dispatch),\n  PaginationActions: bindActionCreators(paginationList, dispatch)\n}))(WorkTimeModalContainer);","map":{"version":3,"sources":["F:/JAVA_WORKSPACE/frontend_react-20191018T023535Z-001/frontend_react/src/containers/modal/WorkTimeModalContainer.js"],"names":["React","Component","connect","bindActionCreators","WorkTimeModal","worktimeActions","paginationList","WorkTimeModalContainer","startTimeChange","e","value","target","WorkTimeActions","props","changeStartTimeInput","endTimeChange","changeEndTimeInput","handleChangeInput","name","changeInput","handleGetModal","no","token","getWorkTimeData","console","log","handleSubmit","PaginationActions","activePage","start","end","use","language","editWorkTimeData","getWorkTimeTotal","getWorkTimeList","handleRemove","pageNumber","pageChange","removeWorkTimeData","shouldComponentUpdate","nextProps","nextState","render","visible","loading","editDisabled","state","worktime","get","login","pagination","pender","pending","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport WorkTimeModal from 'components/modal/WorkTimeModal';\r\nimport * as worktimeActions from 'store/modules/worktime';\r\nimport * as paginationList from 'store/modules/pagination';\r\n\r\n\r\nclass WorkTimeModalContainer extends Component {\r\n\r\n    startTimeChange = (e) => {\r\n        const { value } = e.target;\r\n        const { WorkTimeActions } = this.props;\r\n        WorkTimeActions.changeStartTimeInput(value);\r\n    }\r\n\r\n    endTimeChange = (e) => {\r\n        const { value } = e.target;\r\n        const { WorkTimeActions } = this.props;\r\n        WorkTimeActions.changeEndTimeInput(value);\r\n    }\r\n\r\n    handleChangeInput = ({name, value}) => {\r\n\r\n        const { WorkTimeActions } = this.props;\r\n        WorkTimeActions.changeInput({name, value});\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n\r\n        if(nextProps.no !== this.props.no ){\r\n            this.handleGetModal(nextProps.no);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    handleGetModal = async (no) => {\r\n\r\n        const { WorkTimeActions, token } = this.props;\r\n        try {\r\n            await WorkTimeActions.getWorkTimeData(no, token);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        const { WorkTimeActions, PaginationActions, activePage, start, end, use, no, token,language } = this.props;\r\n\r\n        /*\r\n                const pageNumber = 1\r\n\r\n                PaginationActions.pageChange({activePage, pageNumber});\r\n        */\r\n\r\n        try {\r\n            await WorkTimeActions.editWorkTimeData(no, start, end, use, token,language);\r\n            await PaginationActions.getWorkTimeTotal(token);\r\n            await WorkTimeActions.getWorkTimeList(activePage, token);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    handleRemove = async () => {\r\n        const { WorkTimeActions, PaginationActions, no, activePage, token ,language} = this.props;\r\n\r\n        const pageNumber = 1\r\n\r\n        PaginationActions.pageChange({activePage, pageNumber});\r\n\r\n        try {\r\n            await WorkTimeActions.removeWorkTimeData(no, token,language);\r\n            await PaginationActions.getWorkTimeTotal(token);\r\n            await WorkTimeActions.getWorkTimeList(pageNumber, token);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { visible, start, end, use, loading, editDisabled, language } = this.props;\r\n        const { handleChangeInput, handleSubmit, handleRemove} = this;\r\n        if(loading) return null;\r\n\r\n        return (\r\n            <WorkTimeModal visible={visible} start={start} end={end} use={use} editDisabled={editDisabled} language={language}\r\n                           onChangeInput={handleChangeInput} onSubmit={handleSubmit} onRemove={handleRemove} />\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    (state) => ({\r\n        visible: state.worktime.get('modal'),\r\n        no: state.worktime.get('no'),\r\n        start: state.worktime.get('start'),\r\n        end: state.worktime.get('end'),\r\n        use: state.worktime.get('use'),\r\n        editDisabled: state.worktime.get('editDisabled'),\r\n        token: state.login.token,\r\n        activePage: state.pagination.get('activePage'),\r\n        loading: state.pender.pending['list/GET_COMMUTE_BETWEEN'],\r\n        language: state.language.language\r\n    }),\r\n    (dispatch) => ({\r\n        WorkTimeActions: bindActionCreators(worktimeActions, dispatch),\r\n        PaginationActions: bindActionCreators(paginationList, dispatch),\r\n    })\r\n)(WorkTimeModalContainer);"]},"metadata":{},"sourceType":"module"}