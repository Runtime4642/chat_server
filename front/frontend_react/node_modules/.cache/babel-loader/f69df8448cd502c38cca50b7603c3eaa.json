{"ast":null,"code":"import _regeneratorRuntime from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\src\\\\containers\\\\modal\\\\HoliDayModalContainer.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport HoliDayModal from 'components/modal/HoliDayModal';\nimport * as holidayActions from 'store/modules/holiday';\nimport * as paginationList from 'store/modules/pagination';\n\nclass HoliDayModalContainer extends Component {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n\n    this.startTimeChange = e => {\n      const value = e.target.value;\n      const HoliDayActions = this.props.HoliDayActions;\n      HoliDayActions.changeStartTimeInput(value);\n    };\n\n    this.endTimeChange = e => {\n      const value = e.target.value;\n      const HoliDayActions = this.props.HoliDayActions;\n      HoliDayActions.changeEndTimeInput(value);\n    };\n\n    this.handleChangeInput = ({\n      name,\n      value\n    }) => {\n      const HoliDayActions = this.props.HoliDayActions;\n      HoliDayActions.changeInput({\n        name,\n        value\n      });\n    };\n\n    this.handleGetModal = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(no) {\n        var _this$props, HoliDayActions, token;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this$props = _this.props, HoliDayActions = _this$props.HoliDayActions, token = _this$props.token;\n              _context.prev = 1;\n              _context.next = 4;\n              return HoliDayActions.getHoliDayData(no, token);\n\n            case 4:\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[1, 6]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    this.handleSubmit = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var _this$props2, HoliDayActions, PaginationActions, activePage, day, use, description, descriptionEn, no, token, language;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _this$props2 = _this.props, HoliDayActions = _this$props2.HoliDayActions, PaginationActions = _this$props2.PaginationActions, activePage = _this$props2.activePage, day = _this$props2.day, use = _this$props2.use, description = _this$props2.description, descriptionEn = _this$props2.descriptionEn, no = _this$props2.no, token = _this$props2.token, language = _this$props2.language;\n            /*\r\n                    const pageNumber = 1\r\n                      PaginationActions.pageChange({activePage, pageNumber});\r\n            */\n\n            if (language === \"en\") {\n              description = descriptionEn;\n            }\n\n            _context2.prev = 2;\n            _context2.next = 5;\n            return HoliDayActions.editHoliDayData(no, day, String(use), description, token, language);\n\n          case 5:\n            _context2.next = 7;\n            return PaginationActions.getHoliDayTotal(token);\n\n          case 7:\n            _context2.next = 9;\n            return HoliDayActions.getHoliDayList(activePage, token);\n\n          case 9:\n            _context2.next = 14;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](2);\n            console.log(_context2.t0);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2, null, [[2, 11]]);\n    }));\n    this.handleRemove = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var _this$props3, HoliDayActions, PaginationActions, no, activePage, token, language, pageNumber;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _this$props3 = _this.props, HoliDayActions = _this$props3.HoliDayActions, PaginationActions = _this$props3.PaginationActions, no = _this$props3.no, activePage = _this$props3.activePage, token = _this$props3.token, language = _this$props3.language;\n            pageNumber = 1;\n            PaginationActions.pageChange({\n              activePage,\n              pageNumber\n            });\n            _context3.prev = 3;\n            _context3.next = 6;\n            return HoliDayActions.removeHoliDayData(no, token, language);\n\n          case 6:\n            _context3.next = 8;\n            return PaginationActions.getHoliDayTotal(token);\n\n          case 8:\n            _context3.next = 10;\n            return HoliDayActions.getHoliDayList(pageNumber, token);\n\n          case 10:\n            _context3.next = 15;\n            break;\n\n          case 12:\n            _context3.prev = 12;\n            _context3.t0 = _context3[\"catch\"](3);\n            console.log(_context3.t0);\n\n          case 15:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3, null, [[3, 12]]);\n    }));\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextProps.no !== this.props.no) {\n      this.handleGetModal(nextProps.no);\n    }\n\n    if (nextProps.visible !== this.props.visible) {\n      this.handleGetModal(this.props.no);\n    }\n\n    return true;\n  }\n\n  render() {\n    const _this$props4 = this.props,\n          visible = _this$props4.visible,\n          day = _this$props4.day,\n          use = _this$props4.use,\n          description = _this$props4.description,\n          descriptionEn = _this$props4.descriptionEn,\n          loading = _this$props4.loading,\n          editDisabled = _this$props4.editDisabled,\n          language = _this$props4.language;\n    const handleChangeInput = this.handleChangeInput,\n          handleSubmit = this.handleSubmit,\n          handleRemove = this.handleRemove;\n    if (loading) return null;\n    return /*#__PURE__*/React.createElement(HoliDayModal, {\n      visible: visible,\n      day: day,\n      use: use,\n      description: description,\n      descriptionEn: descriptionEn,\n      editDisabled: editDisabled,\n      language: language,\n      onChangeInput: handleChangeInput,\n      onSubmit: handleSubmit,\n      onRemove: handleRemove,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n\nexport default connect(state => ({\n  visible: state.holiday.get('modal'),\n  no: state.holiday.get('no'),\n  day: state.holiday.get('day'),\n  use: state.holiday.get('use'),\n  description: state.holiday.get('description'),\n  descriptionEn: state.holiday.get('descriptionEn'),\n  editDisabled: state.holiday.get('editDisabled'),\n  token: state.login.token,\n  activePage: state.pagination.get('activePage'),\n  loading: state.pender.pending['list/GET_BREAK_TIME_DATA'],\n  language: state.language.language\n}), dispatch => ({\n  HoliDayActions: bindActionCreators(holidayActions, dispatch),\n  PaginationActions: bindActionCreators(paginationList, dispatch)\n}))(HoliDayModalContainer);","map":{"version":3,"sources":["F:/JAVA_WORKSPACE/frontend_react-20191018T023535Z-001/frontend_react/src/containers/modal/HoliDayModalContainer.js"],"names":["React","Component","connect","bindActionCreators","HoliDayModal","holidayActions","paginationList","HoliDayModalContainer","startTimeChange","e","value","target","HoliDayActions","props","changeStartTimeInput","endTimeChange","changeEndTimeInput","handleChangeInput","name","changeInput","handleGetModal","no","token","getHoliDayData","console","log","handleSubmit","PaginationActions","activePage","day","use","description","descriptionEn","language","editHoliDayData","String","getHoliDayTotal","getHoliDayList","handleRemove","pageNumber","pageChange","removeHoliDayData","shouldComponentUpdate","nextProps","nextState","visible","render","loading","editDisabled","state","holiday","get","login","pagination","pender","pending","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport HoliDayModal from 'components/modal/HoliDayModal';\r\nimport * as holidayActions from 'store/modules/holiday';\r\nimport * as paginationList from 'store/modules/pagination';\r\n\r\n\r\nclass HoliDayModalContainer extends Component {\r\n\r\n    startTimeChange = (e) => {\r\n        const { value } = e.target;\r\n        const { HoliDayActions } = this.props;\r\n        HoliDayActions.changeStartTimeInput(value);\r\n    }\r\n\r\n    endTimeChange = (e) => {\r\n        const { value } = e.target;\r\n        const { HoliDayActions } = this.props;\r\n        HoliDayActions.changeEndTimeInput(value);\r\n    }\r\n\r\n    handleChangeInput = ({name, value}) => {\r\n\r\n        const { HoliDayActions } = this.props;\r\n        HoliDayActions.changeInput({name, value});\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n\r\n        if(nextProps.no !== this.props.no ){\r\n            this.handleGetModal(nextProps.no);\r\n        }\r\n\r\n        if(nextProps.visible !== this.props.visible){\r\n            this.handleGetModal(this.props.no);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    handleGetModal = async (no) => {\r\n\r\n        const { HoliDayActions, token } = this.props;\r\n        try {\r\n            await HoliDayActions.getHoliDayData(no, token);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    handleSubmit = async () => {\r\n\r\n        let { HoliDayActions, PaginationActions, activePage, day, use, description, descriptionEn, no, token,language } = this.props;\r\n\r\n        /*\r\n                const pageNumber = 1\r\n\r\n                PaginationActions.pageChange({activePage, pageNumber});\r\n        */\r\n\r\n        if(language === \"en\"){\r\n            description = descriptionEn;\r\n        }\r\n\r\n        try {\r\n            await HoliDayActions.editHoliDayData(no, day, String(use), description, token,language);\r\n            await PaginationActions.getHoliDayTotal(token);\r\n            await HoliDayActions.getHoliDayList(activePage, token);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    handleRemove = async () => {\r\n        const { HoliDayActions, PaginationActions, no, activePage, token,language } = this.props;\r\n\r\n        const pageNumber = 1\r\n\r\n        PaginationActions.pageChange({activePage, pageNumber});\r\n\r\n        try {\r\n            await HoliDayActions.removeHoliDayData(no, token,language);\r\n            await PaginationActions.getHoliDayTotal(token);\r\n            await HoliDayActions.getHoliDayList(pageNumber, token);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { visible, day, use, description, descriptionEn, loading, editDisabled, language } = this.props;\r\n        const { handleChangeInput, handleSubmit, handleRemove} = this;\r\n        if(loading) return null;\r\n\r\n        return (\r\n            <HoliDayModal visible={visible} day={day} use={use} description={description} descriptionEn={descriptionEn} editDisabled={editDisabled} language={language}\r\n                            onChangeInput={handleChangeInput} onSubmit={handleSubmit} onRemove={handleRemove} />\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    (state) => ({\r\n        visible: state.holiday.get('modal'),\r\n        no: state.holiday.get('no'),\r\n        day: state.holiday.get('day'),\r\n        use: state.holiday.get('use'),\r\n        description: state.holiday.get('description'),\r\n        descriptionEn: state.holiday.get('descriptionEn'),\r\n        editDisabled: state.holiday.get('editDisabled'),\r\n        token: state.login.token,\r\n        activePage: state.pagination.get('activePage'),\r\n        loading: state.pender.pending['list/GET_BREAK_TIME_DATA'],\r\n        language: state.language.language\r\n    }),\r\n    (dispatch) => ({\r\n        HoliDayActions: bindActionCreators(holidayActions, dispatch),\r\n        PaginationActions: bindActionCreators(paginationList, dispatch),\r\n    })\r\n)(HoliDayModalContainer);"]},"metadata":{},"sourceType":"module"}