{"ast":null,"code":"import _regeneratorRuntime from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\src\\\\containers\\\\commute\\\\CommuteCheckContainer.js\";\nimport React, { Component } from 'react';\nimport Check from 'components/commute/Check';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as commuteActions from 'store/modules/commute';\nimport * as timeActions from \"store/modules/commute\";\nimport * as listActions from 'store/modules/list';\nimport * as getCalList from 'store/modules/commutecalendarlist';\nimport * as paginationList from 'store/modules/pagination';\nimport * as stateActions from 'store/modules/state';\nimport * as holidayActions from 'store/modules/holiday';\nimport moment from 'moment';\nimport locale from 'locale';\n\nclass CommuteCheckContainer extends Component {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n    this.handleCommute = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _this$props, searchFromDate, searchToDate, activePage, ListActions, GetCalList, PaginationActions, searchState, changeView, StateActions, _this$props2, token, loginUserNo, language, search, pageNumber;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _this$props = _this.props, searchFromDate = _this$props.searchFromDate, searchToDate = _this$props.searchToDate, activePage = _this$props.activePage, ListActions = _this$props.ListActions, GetCalList = _this$props.GetCalList, PaginationActions = _this$props.PaginationActions, searchState = _this$props.searchState, changeView = _this$props.changeView, StateActions = _this$props.StateActions;\n            _this$props2 = _this.props, token = _this$props2.token, loginUserNo = _this$props2.loginUserNo, language = _this$props2.language;\n            search = {\n              searchFromDate,\n              searchToDate,\n              userName: \"\",\n              searchUserNo: loginUserNo,\n              searchState,\n              select: true\n            };\n            pageNumber = 1;\n            PaginationActions.pageChange({\n              activePage,\n              pageNumber\n            });\n            _context.prev = 5;\n            _context.next = 8;\n            return ListActions.getTableList(search, pageNumber, true, token, language);\n\n          case 8:\n            _context.next = 10;\n            return GetCalList.getList(search, token, true);\n\n          case 10:\n            if (!(changeView === \"table\")) {\n              _context.next = 17;\n              break;\n            }\n\n            _context.next = 13;\n            return StateActions.getCommuteSearchStateList(search, token);\n\n          case 13:\n            _context.next = 15;\n            return PaginationActions.getSearchPage(search, token);\n\n          case 15:\n            _context.next = 19;\n            break;\n\n          case 17:\n            _context.next = 19;\n            return StateActions.getCommuteCalendarStateList(searchFromDate, loginUserNo, \"\", searchState, true, token);\n\n          case 19:\n            _context.next = 24;\n            break;\n\n          case 21:\n            _context.prev = 21;\n            _context.t0 = _context[\"catch\"](5);\n            console.log(_context.t0);\n\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[5, 21]]);\n    }));\n\n    this.handleGoTo = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(preGoTo) {\n        var CommuteActions, token;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              CommuteActions = _this.props.CommuteActions;\n              token = _this.props.token;\n              _context2.prev = 2;\n\n              if (!preGoTo) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 6;\n              return CommuteActions.goTo('출근', '출근 입력', token);\n\n            case 6:\n              _context2.next = 10;\n              break;\n\n            case 8:\n              _context2.next = 10;\n              return CommuteActions.getPreGoTo('출근', '출근 입력', token);\n\n            case 10:\n              _this.handleCommute();\n\n              _context2.next = 16;\n              break;\n\n            case 13:\n              _context2.prev = 13;\n              _context2.t0 = _context2[\"catch\"](2);\n              console.log(_context2.t0);\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[2, 13]]);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    this.handleGoOff = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(preGoOff) {\n        var _this$props3, CommuteActions, TimeActions, _this$props4, token, loginUserNo, totalWorkTime;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _this$props3 = _this.props, CommuteActions = _this$props3.CommuteActions, TimeActions = _this$props3.TimeActions;\n              _this$props4 = _this.props, token = _this$props4.token, loginUserNo = _this$props4.loginUserNo, totalWorkTime = _this$props4.totalWorkTime;\n              _context3.prev = 2;\n\n              if (!preGoOff) {\n                _context3.next = 8;\n                break;\n              }\n\n              _context3.next = 6;\n              return CommuteActions.goOff('퇴근', '퇴근 입력', totalWorkTime, token);\n\n            case 6:\n              _context3.next = 10;\n              break;\n\n            case 8:\n              _context3.next = 10;\n              return CommuteActions.getPreGoOff('퇴근', '퇴근 입력', totalWorkTime, token);\n\n            case 10:\n              _this.handleCommute();\n\n              _context3.next = 16;\n              break;\n\n            case 13:\n              _context3.prev = 13;\n              _context3.t0 = _context3[\"catch\"](2);\n              console.log(_context3.t0);\n\n            case 16:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[2, 13]]);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    this.handleState = /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(preGoTo, preGoOff) {\n        var _this$props5, token, CommuteActions, HoliDayActions;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _this$props5 = _this.props, token = _this$props5.token, CommuteActions = _this$props5.CommuteActions, HoliDayActions = _this$props5.HoliDayActions;\n              _context4.prev = 1;\n              _context4.next = 4;\n              return CommuteActions.getPreGoOffData(token);\n\n            case 4:\n              _context4.next = 6;\n              return CommuteActions.getPreGoToData(preGoTo, token);\n\n            case 6:\n              _context4.next = 8;\n              return HoliDayActions.getPreHoliDayData(token);\n\n            case 8:\n              _context4.next = 10;\n              return CommuteActions.getGoToData(true, token);\n\n            case 10:\n              _context4.next = 12;\n              return CommuteActions.getGoOffData(true, token);\n\n            case 12:\n              _context4.next = 17;\n              break;\n\n            case 14:\n              _context4.prev = 14;\n              _context4.t0 = _context4[\"catch\"](1);\n              console.log(_context4.t0);\n\n            case 17:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, null, [[1, 14]]);\n      }));\n\n      return function (_x3, _x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    this.handleEndTime = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var _this$props6, CommuteActions, token;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            _this$props6 = _this.props, CommuteActions = _this$props6.CommuteActions, token = _this$props6.token;\n            _context5.prev = 1;\n            _context5.next = 4;\n            return CommuteActions.getEndTime(token);\n\n          case 4:\n            _context5.next = 9;\n            break;\n\n          case 6:\n            _context5.prev = 6;\n            _context5.t0 = _context5[\"catch\"](1);\n            console.log(_context5.t0);\n\n          case 9:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5, null, [[1, 6]]);\n    }));\n  }\n\n  convertState(name, value) {\n    const CommuteActions = this.props.CommuteActions;\n    CommuteActions.stateChange({\n      name,\n      value\n    });\n  }\n\n  componentDidMount() {\n    const _this$props7 = this.props,\n          endTime = _this$props7.endTime,\n          language = _this$props7.language;\n    document.title = locale.commuteCheckTitle[language];\n    const CommuteActions = this.props.CommuteActions;\n    let cnt = 0; // this.timerID = setInterval(() => {\n    //     cnt++;\n    //     CommuteActions.changeInput({name:'cnt', value:cnt});\n    //     this.tick();\n    // }, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    document.title = locale.commuteCheckTitle[nextProps.language];\n\n    if (nextProps.endTime !== this.props.endTime) {\n      this.convertState('endTime', nextProps.endTime);\n    }\n\n    if (nextProps.isGoOff !== this.props.isGoOff) {\n      this.convertState('isGoOff', nextProps.isGoOff);\n    }\n\n    return true;\n  }\n\n  componentWillMount() {\n    this.handleState(this.props.preGoTo, this.props.preGoOff);\n    this.handleEndTime();\n  }\n\n  render() {\n    const _this$props8 = this.props,\n          language = _this$props8.language,\n          starttime = _this$props8.starttime,\n          endtime = _this$props8.endtime,\n          goto = _this$props8.goto,\n          gooff = _this$props8.gooff,\n          isGoOff = _this$props8.isGoOff,\n          loading = _this$props8.loading,\n          endTime = _this$props8.endTime,\n          visible = _this$props8.visible,\n          time = _this$props8.time,\n          isNight = _this$props8.isNight,\n          preGoTo = _this$props8.preGoTo,\n          preGoOff = _this$props8.preGoOff,\n          preHoliDay = _this$props8.preHoliDay;\n    if (loading) return null;\n    return /*#__PURE__*/React.createElement(Check, {\n      starttime: starttime,\n      endtime: endtime,\n      language: language,\n      isNight: isNight,\n      time: time,\n      visible: visible,\n      endTime: endTime,\n      isGoOff: isGoOff,\n      goto: goto,\n      gooff: gooff,\n      preGoTo: preGoTo,\n      preGoOff: preGoOff,\n      preHoliDay: preHoliDay,\n      onGoTo: this.handleGoTo,\n      onGoOff: this.handleGoOff,\n      onChangeInput: this.convertState.bind(this),\n      onHandleState: this.handleState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    });\n  }\n\n}\n\nexport default connect(state => ({\n  loginUserNo: state.login.no,\n  goto: state.commute.get(\"goto\"),\n  gooff: state.commute.get(\"gooff\"),\n  preGoTo: state.commute.get(\"preGoTo\"),\n  preGoOff: state.commute.get(\"preGoOff\"),\n  preHoliDay: state.holiday.get(\"preHoliDay\"),\n  no: state.list.get('no'),\n  isGoOff: state.commute.get('isGoOff'),\n  isNight: state.commute.get('isNight'),\n  endTime: state.commute.get('endTime'),\n  time: state.commute.get('time'),\n  cnt: state.commute.get('cnt'),\n  loading: state.pender.pending['commute/GET_END_TIME'],\n  token: state.login.token,\n  language: state.language.language,\n  starttime: state.time.get('starttime'),\n  endtime: state.time.get('endtime'),\n  searchFromDate: state.list.get('searchFromDate'),\n  searchToDate: state.list.get('searchToDate'),\n  searchState: state.list.get('searchState'),\n  changeView: state.list.get('changeView'),\n  activePage: state.pagination.get('activePage'),\n  totalWorkTime: state.commute.get('totalWorkTime')\n}), dispatch => ({\n  CommuteActions: bindActionCreators(commuteActions, dispatch),\n  TimeActions: bindActionCreators(timeActions, dispatch),\n  ListActions: bindActionCreators(listActions, dispatch),\n  GetCalList: bindActionCreators(getCalList, dispatch),\n  PaginationActions: bindActionCreators(paginationList, dispatch),\n  StateActions: bindActionCreators(stateActions, dispatch),\n  HoliDayActions: bindActionCreators(holidayActions, dispatch)\n}))(CommuteCheckContainer);","map":{"version":3,"sources":["F:/JAVA_WORKSPACE/frontend_react-20191018T023535Z-001/frontend_react/src/containers/commute/CommuteCheckContainer.js"],"names":["React","Component","Check","connect","bindActionCreators","commuteActions","timeActions","listActions","getCalList","paginationList","stateActions","holidayActions","moment","locale","CommuteCheckContainer","handleCommute","props","searchFromDate","searchToDate","activePage","ListActions","GetCalList","PaginationActions","searchState","changeView","StateActions","token","loginUserNo","language","search","userName","searchUserNo","select","pageNumber","pageChange","getTableList","getList","getCommuteSearchStateList","getSearchPage","getCommuteCalendarStateList","console","log","handleGoTo","preGoTo","CommuteActions","goTo","getPreGoTo","handleGoOff","preGoOff","TimeActions","totalWorkTime","goOff","getPreGoOff","handleState","HoliDayActions","getPreGoOffData","getPreGoToData","getPreHoliDayData","getGoToData","getGoOffData","handleEndTime","getEndTime","convertState","name","value","stateChange","componentDidMount","endTime","document","title","commuteCheckTitle","cnt","componentWillUnmount","clearInterval","timerID","shouldComponentUpdate","nextProps","nextState","isGoOff","componentWillMount","render","starttime","endtime","goto","gooff","loading","visible","time","isNight","preHoliDay","bind","state","login","no","commute","get","holiday","list","pender","pending","pagination","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Check from 'components/commute/Check';\r\nimport {connect} from \"react-redux\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport * as commuteActions from 'store/modules/commute';\r\nimport * as timeActions from \"store/modules/commute\";\r\nimport * as listActions from 'store/modules/list';\r\nimport * as getCalList from 'store/modules/commutecalendarlist';\r\nimport * as paginationList from 'store/modules/pagination';\r\nimport * as stateActions from 'store/modules/state';\r\nimport * as holidayActions from 'store/modules/holiday';\r\nimport moment from 'moment';\r\nimport locale from 'locale';\r\n\r\nclass CommuteCheckContainer extends Component {\r\n\r\n    handleCommute = async() => {\r\n        const {searchFromDate, searchToDate, activePage, ListActions, GetCalList, PaginationActions, searchState, changeView, StateActions} = this.props;\r\n        const {token, loginUserNo, language} = this.props;\r\n\r\n        const search = {\r\n            searchFromDate,\r\n            searchToDate,\r\n            userName: \"\",\r\n            searchUserNo: loginUserNo,\r\n            searchState,\r\n            select: true\r\n        }\r\n\r\n        const pageNumber = 1\r\n\r\n        PaginationActions.pageChange({activePage, pageNumber});\r\n\r\n        try{\r\n            await ListActions.getTableList(search, pageNumber, true, token, language);\r\n            await GetCalList.getList(search, token, true);\r\n\r\n            if (changeView === \"table\") {\r\n                await StateActions.getCommuteSearchStateList(search, token);\r\n                await PaginationActions.getSearchPage(search, token);\r\n            }\r\n            else{\r\n                await StateActions.getCommuteCalendarStateList(searchFromDate, loginUserNo, \"\", searchState, true, token);\r\n            }\r\n        }\r\n        catch(e){\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    handleGoTo = async(preGoTo) => {\r\n        const { CommuteActions } = this.props;\r\n        const { token } = this.props;\r\n\r\n        try{\r\n            if(preGoTo) {\r\n                await CommuteActions.goTo('출근', '출근 입력', token);\r\n                \r\n            }\r\n            else{\r\n                await CommuteActions.getPreGoTo('출근', '출근 입력', token);\r\n            }\r\n\r\n            this.handleCommute();\r\n        } catch(e){\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    handleGoOff = async(preGoOff) => {\r\n        const { CommuteActions,TimeActions } = this.props;\r\n        const { token,loginUserNo,totalWorkTime } = this.props;\r\n\r\n        try{\r\n            if(preGoOff) {\r\n                await CommuteActions.goOff('퇴근', '퇴근 입력',totalWorkTime, token);\r\n\r\n            }\r\n            else{\r\n\r\n                await CommuteActions.getPreGoOff('퇴근', '퇴근 입력',totalWorkTime, token);\r\n            }\r\n\r\n            this.handleCommute();\r\n        } catch(e){\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    handleState = async(preGoTo, preGoOff) => {\r\n        const {token, CommuteActions, HoliDayActions} = this.props;\r\n\r\n        try{\r\n            await CommuteActions.getPreGoOffData(token);\r\n            await CommuteActions.getPreGoToData(preGoTo, token);\r\n\r\n            await HoliDayActions.getPreHoliDayData(token);\r\n\r\n            await CommuteActions.getGoToData(true, token);\r\n            await CommuteActions.getGoOffData(true, token);\r\n        }\r\n        catch(e){\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    handleEndTime = async() => {\r\n        const {CommuteActions, token} = this.props;\r\n\r\n        try{\r\n            await CommuteActions.getEndTime(token);\r\n        }\r\n        catch(e){\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    convertState(name, value){\r\n        const { CommuteActions } = this.props;\r\n\r\n        CommuteActions.stateChange({name, value});\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {endTime, language} = this.props;\r\n        document.title = locale.commuteCheckTitle[language];\r\n\r\n        const {CommuteActions} = this.props;\r\n        let cnt =0;\r\n        // this.timerID = setInterval(() => {\r\n        //     cnt++;\r\n        //     CommuteActions.changeInput({name:'cnt', value:cnt});\r\n        //     this.tick();\r\n        // }, 1000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.timerID);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        document.title = locale.commuteCheckTitle[nextProps.language];\r\n        \r\n        if(nextProps.endTime !== this.props.endTime){\r\n            this.convertState('endTime', nextProps.endTime);\r\n        }\r\n\r\n        if(nextProps.isGoOff !== this.props.isGoOff){\r\n            this.convertState('isGoOff', nextProps.isGoOff);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.handleState(this.props.preGoTo, this.props.preGoOff);\r\n        this.handleEndTime();\r\n    }\r\n\r\n    render(){\r\n        const { language, starttime, endtime, goto, gooff, isGoOff, loading, endTime, visible, time, isNight, preGoTo, preGoOff, preHoliDay } = this.props;\r\n\r\n        if(loading) return null;\r\n\r\n        return(\r\n                <Check starttime={starttime} endtime={endtime} language = {language} isNight={isNight} time={time} visible={visible} endTime={endTime}\r\n                       isGoOff={isGoOff} goto={goto} gooff={gooff} preGoTo={preGoTo} preGoOff={preGoOff} preHoliDay={preHoliDay}\r\n                       onGoTo={this.handleGoTo} onGoOff={this.handleGoOff} onChangeInput={this.convertState.bind(this)} onHandleState={this.handleState}/>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    (state) => ({\r\n        loginUserNo:state.login.no,\r\n        goto: state.commute.get(\"goto\"),\r\n        gooff: state.commute.get(\"gooff\"),\r\n        preGoTo: state.commute.get(\"preGoTo\"),\r\n        preGoOff: state.commute.get(\"preGoOff\"),\r\n        preHoliDay: state.holiday.get(\"preHoliDay\"),\r\n        no: state.list.get('no'),\r\n        isGoOff: state.commute.get('isGoOff'),\r\n        isNight: state.commute.get('isNight'),\r\n        endTime: state.commute.get('endTime'),\r\n        time: state.commute.get('time'),\r\n        cnt : state.commute.get('cnt'),\r\n        loading: state.pender.pending['commute/GET_END_TIME'],\r\n        token: state.login.token,\r\n        language: state.language.language,\r\n        starttime: state.time.get('starttime'),  \r\n        endtime: state.time.get('endtime'),\r\n        searchFromDate: state.list.get('searchFromDate'),\r\n        searchToDate: state.list.get('searchToDate'),\r\n        searchState: state.list.get('searchState'),\r\n        changeView: state.list.get('changeView'),\r\n        activePage: state.pagination.get('activePage'),\r\n        totalWorkTime:state.commute.get('totalWorkTime')\r\n    }),\r\n    (dispatch) => ({\r\n        CommuteActions: bindActionCreators(commuteActions, dispatch),\r\n        TimeActions: bindActionCreators(timeActions, dispatch),\r\n        ListActions: bindActionCreators(listActions, dispatch),\r\n        GetCalList: bindActionCreators(getCalList, dispatch),\r\n        PaginationActions: bindActionCreators(paginationList, dispatch),\r\n        StateActions: bindActionCreators(stateActions, dispatch),\r\n        HoliDayActions: bindActionCreators(holidayActions, dispatch)\r\n    })\r\n)(CommuteCheckContainer);"]},"metadata":{},"sourceType":"module"}