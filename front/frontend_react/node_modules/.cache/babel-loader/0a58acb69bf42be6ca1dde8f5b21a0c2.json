{"ast":null,"code":"import _objectSpread from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport { createAction, handleActions } from 'redux-actions';\nimport { Map } from 'immutable';\nimport { pender } from 'redux-pender';\nimport * as api from 'lib/api';\nimport moment from 'moment';\nconst CHANGE_INPUT = 'dashboard/CHANGE_INPUT';\nconst GET_DASHBOARD_DATA = 'dashboard/GET_DASHBOARD_DATA';\nconst INITIALIZE = 'dashboard/INITIALIZE';\nlet date = moment(new Date()).format('YYYY-MM-DD');\nconst initialState = Map({\n  searchDate: date\n});\nexport const getDashBoardData = createAction(GET_DASHBOARD_DATA, api.getDashBoardData);\nexport const changeInput = createAction(CHANGE_INPUT);\nexport default handleActions(_objectSpread({\n  [INITIALIZE]: (state, action) => initialState,\n  [CHANGE_INPUT]: (state, action) => {\n    const _action$payload = action.payload,\n          name = _action$payload.name,\n          value = _action$payload.value; //console.log(name);\n    //console.log(value);\n\n    return state.set(name, value);\n  }\n}, pender({\n  type: GET_DASHBOARD_DATA,\n  onSuccess: (state, action) => {\n    //console.log(action.payload.data.data);\n    return state.set(\"totalUserCount\", action.payload.data.data.today.totalUserCount).set(\"gotoWorkCount\", action.payload.data.data.today.gotoWorkCount).set(\"tardyCount\", action.payload.data.data.today.tardyCount).set(\"businessTripCount\", action.payload.data.data.today.businessTripCount).set(\"workOutsideCount\", action.payload.data.data.today.workOutsideCount).set(\"annualLeaveCount\", action.payload.data.data.today.annualLeaveCount).set(\"educationCount\", action.payload.data.data.today.educationCount).set(\"chartList\", action.payload.data.data.chartList);\n  }\n})), initialState);","map":{"version":3,"sources":["F:/JAVA_WORKSPACE/frontend_react-20191018T023535Z-001/frontend_react/src/store/modules/dashboard.js"],"names":["createAction","handleActions","Map","pender","api","moment","CHANGE_INPUT","GET_DASHBOARD_DATA","INITIALIZE","date","Date","format","initialState","searchDate","getDashBoardData","changeInput","state","action","payload","name","value","set","type","onSuccess","data","today","totalUserCount","gotoWorkCount","tardyCount","businessTripCount","workOutsideCount","annualLeaveCount","educationCount","chartList"],"mappings":";AAAA,SAASA,YAAT,EAAuBC,aAAvB,QAA4C,eAA5C;AACA,SAASC,GAAT,QAAoB,WAApB;AACA,SAASC,MAAT,QAAuB,cAAvB;AACA,OAAO,KAAKC,GAAZ,MAAqB,SAArB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAGA,MAAMC,YAAY,GAAG,wBAArB;AACA,MAAMC,kBAAkB,GAAG,8BAA3B;AACA,MAAMC,UAAU,GAAG,sBAAnB;AACA,IAAIC,IAAI,GAAGJ,MAAM,CAAC,IAAIK,IAAJ,EAAD,CAAN,CAAmBC,MAAnB,CAA0B,YAA1B,CAAX;AAEA,MAAMC,YAAY,GAAGV,GAAG,CAAC;AACrBW,EAAAA,UAAU,EAACJ;AADU,CAAD,CAAxB;AAIA,OAAO,MAAMK,gBAAgB,GAAGd,YAAY,CAACO,kBAAD,EAAqBH,GAAG,CAACU,gBAAzB,CAArC;AACP,OAAO,MAAMC,WAAW,GAAGf,YAAY,CAACM,YAAD,CAAhC;AAEP,eAAeL,aAAa;AACxB,GAACO,UAAD,GAAc,CAACQ,KAAD,EAAQC,MAAR,KAAmBL,YADT;AAGxB,GAACN,YAAD,GAAgB,CAACU,KAAD,EAAQC,MAAR,KAAmB;AAAA,4BACPA,MAAM,CAACC,OADA;AAAA,UACvBC,IADuB,mBACvBA,IADuB;AAAA,UACjBC,KADiB,mBACjBA,KADiB,EAE/B;AACA;;AACA,WAAOJ,KAAK,CAACK,GAAN,CAAUF,IAAV,EAAgBC,KAAhB,CAAP;AACH;AARuB,GASrBjB,MAAM,CAAC;AACNmB,EAAAA,IAAI,EAAEf,kBADA;AAENgB,EAAAA,SAAS,EAAE,CAACP,KAAD,EAAQC,MAAR,KAAmB;AAC1B;AACD,WAAOD,KAAK,CAACK,GAAN,CAAU,gBAAV,EAA2BJ,MAAM,CAACC,OAAP,CAAeM,IAAf,CAAoBA,IAApB,CAAyBC,KAAzB,CAA+BC,cAA1D,EACNL,GADM,CACF,eADE,EACcJ,MAAM,CAACC,OAAP,CAAeM,IAAf,CAAoBA,IAApB,CAAyBC,KAAzB,CAA+BE,aAD7C,EAENN,GAFM,CAEF,YAFE,EAEWJ,MAAM,CAACC,OAAP,CAAeM,IAAf,CAAoBA,IAApB,CAAyBC,KAAzB,CAA+BG,UAF1C,EAGNP,GAHM,CAGF,mBAHE,EAGkBJ,MAAM,CAACC,OAAP,CAAeM,IAAf,CAAoBA,IAApB,CAAyBC,KAAzB,CAA+BI,iBAHjD,EAINR,GAJM,CAIF,kBAJE,EAIiBJ,MAAM,CAACC,OAAP,CAAeM,IAAf,CAAoBA,IAApB,CAAyBC,KAAzB,CAA+BK,gBAJhD,EAKNT,GALM,CAKF,kBALE,EAKiBJ,MAAM,CAACC,OAAP,CAAeM,IAAf,CAAoBA,IAApB,CAAyBC,KAAzB,CAA+BM,gBALhD,EAMNV,GANM,CAMF,gBANE,EAMeJ,MAAM,CAACC,OAAP,CAAeM,IAAf,CAAoBA,IAApB,CAAyBC,KAAzB,CAA+BO,cAN9C,EAONX,GAPM,CAOF,WAPE,EAOUJ,MAAM,CAACC,OAAP,CAAeM,IAAf,CAAoBA,IAApB,CAAyBS,SAPnC,CAAP;AAQF;AAZK,CAAD,CATe,GAwBzBrB,YAxByB,CAA5B","sourcesContent":["import { createAction, handleActions } from 'redux-actions';\r\nimport { Map } from 'immutable';\r\nimport { pender } from 'redux-pender';\r\nimport * as api from 'lib/api';\r\nimport moment from 'moment';\r\n\r\n\r\nconst CHANGE_INPUT = 'dashboard/CHANGE_INPUT';\r\nconst GET_DASHBOARD_DATA = 'dashboard/GET_DASHBOARD_DATA';\r\nconst INITIALIZE = 'dashboard/INITIALIZE';\r\nlet date = moment(new Date()).format('YYYY-MM-DD');\r\n\r\nconst initialState = Map({\r\n    searchDate:date\r\n});\r\n\r\nexport const getDashBoardData = createAction(GET_DASHBOARD_DATA, api.getDashBoardData);\r\nexport const changeInput = createAction(CHANGE_INPUT);\r\n\r\nexport default handleActions({\r\n    [INITIALIZE]: (state, action) => initialState,\r\n    \r\n    [CHANGE_INPUT]: (state, action) => {\r\n        const { name, value } = action.payload;\r\n        //console.log(name);\r\n        //console.log(value);\r\n        return state.set(name, value);\r\n    },\r\n    ...pender({\r\n        type: GET_DASHBOARD_DATA,\r\n        onSuccess: (state, action) => {\r\n            //console.log(action.payload.data.data);\r\n           return state.set(\"totalUserCount\",action.payload.data.data.today.totalUserCount)\r\n           .set(\"gotoWorkCount\",action.payload.data.data.today.gotoWorkCount)\r\n           .set(\"tardyCount\",action.payload.data.data.today.tardyCount)\r\n           .set(\"businessTripCount\",action.payload.data.data.today.businessTripCount)\r\n           .set(\"workOutsideCount\",action.payload.data.data.today.workOutsideCount)\r\n           .set(\"annualLeaveCount\",action.payload.data.data.today.annualLeaveCount)\r\n           .set(\"educationCount\",action.payload.data.data.today.educationCount)\r\n           .set(\"chartList\",action.payload.data.data.chartList);\r\n        }\r\n    }),\r\n  \r\n}, initialState);"]},"metadata":{},"sourceType":"module"}