{"ast":null,"code":"import _regeneratorRuntime from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\src\\\\containers\\\\commute\\\\CommuteCheckContainer.js\";\nimport React, { Component } from 'react';\nimport Check from 'components/commute/Check';\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as commuteActions from 'store/modules/commute';\nimport * as timeActions from \"store/modules/commute\";\nimport * as listActions from 'store/modules/list';\nimport * as getCalList from 'store/modules/commutecalendarlist';\nimport * as paginationList from 'store/modules/pagination';\nimport * as stateActions from 'store/modules/state';\nimport * as holidayActions from 'store/modules/holiday';\nimport moment from 'moment';\nimport locale from 'locale';\n\nvar CommuteCheckContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CommuteCheckContainer, _Component);\n\n  function CommuteCheckContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CommuteCheckContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CommuteCheckContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.handleCommute =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var _this$props, searchFromDate, searchToDate, activePage, ListActions, GetCalList, PaginationActions, searchState, changeView, StateActions, _this$props2, token, loginUserNo, language, search, pageNumber;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$props = _this.props, searchFromDate = _this$props.searchFromDate, searchToDate = _this$props.searchToDate, activePage = _this$props.activePage, ListActions = _this$props.ListActions, GetCalList = _this$props.GetCalList, PaginationActions = _this$props.PaginationActions, searchState = _this$props.searchState, changeView = _this$props.changeView, StateActions = _this$props.StateActions;\n              _this$props2 = _this.props, token = _this$props2.token, loginUserNo = _this$props2.loginUserNo, language = _this$props2.language;\n              search = {\n                searchFromDate: searchFromDate,\n                searchToDate: searchToDate,\n                userName: \"\",\n                searchUserNo: loginUserNo,\n                searchState: searchState,\n                select: true\n              };\n              pageNumber = 1;\n              PaginationActions.pageChange({\n                activePage: activePage,\n                pageNumber: pageNumber\n              });\n              _context.prev = 5;\n              _context.next = 8;\n              return ListActions.getTableList(search, pageNumber, true, token, language);\n\n            case 8:\n              _context.next = 10;\n              return GetCalList.getList(search, token, true);\n\n            case 10:\n              if (!(changeView === \"table\")) {\n                _context.next = 17;\n                break;\n              }\n\n              _context.next = 13;\n              return StateActions.getCommuteSearchStateList(search, token);\n\n            case 13:\n              _context.next = 15;\n              return PaginationActions.getSearchPage(search, token);\n\n            case 15:\n              _context.next = 19;\n              break;\n\n            case 17:\n              _context.next = 19;\n              return StateActions.getCommuteCalendarStateList(searchFromDate, loginUserNo, \"\", searchState, true, token);\n\n            case 19:\n              _context.next = 24;\n              break;\n\n            case 21:\n              _context.prev = 21;\n              _context.t0 = _context[\"catch\"](5);\n              console.log(_context.t0);\n\n            case 24:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[5, 21]]);\n    }));\n\n    _this.handleGoTo =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(preGoTo) {\n        var CommuteActions, token;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                CommuteActions = _this.props.CommuteActions;\n                token = _this.props.token;\n                _context2.prev = 2;\n\n                if (!preGoTo) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                _context2.next = 6;\n                return CommuteActions.goTo('출근', '출근 입력', token);\n\n              case 6:\n                _context2.next = 10;\n                break;\n\n              case 8:\n                _context2.next = 10;\n                return CommuteActions.getPreGoTo('출근', '출근 입력', token);\n\n              case 10:\n                _this.handleCommute();\n\n                _context2.next = 16;\n                break;\n\n              case 13:\n                _context2.prev = 13;\n                _context2.t0 = _context2[\"catch\"](2);\n                console.log(_context2.t0);\n\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[2, 13]]);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.handleGoOff =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(preGoOff) {\n        var _this$props3, CommuteActions, TimeActions, _this$props4, token, loginUserNo, totalWorkTime;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this$props3 = _this.props, CommuteActions = _this$props3.CommuteActions, TimeActions = _this$props3.TimeActions;\n                _this$props4 = _this.props, token = _this$props4.token, loginUserNo = _this$props4.loginUserNo, totalWorkTime = _this$props4.totalWorkTime;\n                _context3.prev = 2;\n\n                if (!preGoOff) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                _context3.next = 6;\n                return CommuteActions.goOff('퇴근', '퇴근 입력', totalWorkTime, token);\n\n              case 6:\n                _context3.next = 10;\n                break;\n\n              case 8:\n                _context3.next = 10;\n                return CommuteActions.getPreGoOff('퇴근', '퇴근 입력', totalWorkTime, token);\n\n              case 10:\n                _this.handleCommute();\n\n                _context3.next = 16;\n                break;\n\n              case 13:\n                _context3.prev = 13;\n                _context3.t0 = _context3[\"catch\"](2);\n                console.log(_context3.t0);\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[2, 13]]);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.handleState =\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(preGoTo, preGoOff) {\n        var _this$props5, token, CommuteActions, HoliDayActions;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _this$props5 = _this.props, token = _this$props5.token, CommuteActions = _this$props5.CommuteActions, HoliDayActions = _this$props5.HoliDayActions;\n                _context4.prev = 1;\n                _context4.next = 4;\n                return CommuteActions.getPreGoOffData(token);\n\n              case 4:\n                _context4.next = 6;\n                return CommuteActions.getPreGoToData(preGoTo, token);\n\n              case 6:\n                _context4.next = 8;\n                return HoliDayActions.getPreHoliDayData(token);\n\n              case 8:\n                _context4.next = 10;\n                return CommuteActions.getGoToData(true, token);\n\n              case 10:\n                _context4.next = 12;\n                return CommuteActions.getGoOffData(true, token);\n\n              case 12:\n                _context4.next = 17;\n                break;\n\n              case 14:\n                _context4.prev = 14;\n                _context4.t0 = _context4[\"catch\"](1);\n                console.log(_context4.t0);\n\n              case 17:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, null, [[1, 14]]);\n      }));\n\n      return function (_x3, _x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    _this.handleEndTime =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5() {\n      var _this$props6, CommuteActions, token;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _this$props6 = _this.props, CommuteActions = _this$props6.CommuteActions, token = _this$props6.token;\n              _context5.prev = 1;\n              _context5.next = 4;\n              return CommuteActions.getEndTime(token);\n\n            case 4:\n              _context5.next = 9;\n              break;\n\n            case 6:\n              _context5.prev = 6;\n              _context5.t0 = _context5[\"catch\"](1);\n              console.log(_context5.t0);\n\n            case 9:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[1, 6]]);\n    }));\n    return _this;\n  }\n\n  _createClass(CommuteCheckContainer, [{\n    key: \"convertState\",\n    value: function convertState(name, value) {\n      var CommuteActions = this.props.CommuteActions;\n      CommuteActions.stateChange({\n        name: name,\n        value: value\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props7 = this.props,\n          endTime = _this$props7.endTime,\n          language = _this$props7.language;\n      document.title = locale.commuteCheckTitle[language];\n      var CommuteActions = this.props.CommuteActions;\n      var cnt = 0; // this.timerID = setInterval(() => {\n      //     cnt++;\n      //     CommuteActions.changeInput({name:'cnt', value:cnt});\n      //     this.tick();\n      // }, 1000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.timerID);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      document.title = locale.commuteCheckTitle[nextProps.language];\n\n      if (nextProps.endTime !== this.props.endTime) {\n        this.convertState('endTime', nextProps.endTime);\n      }\n\n      if (nextProps.isGoOff !== this.props.isGoOff) {\n        this.convertState('isGoOff', nextProps.isGoOff);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.handleState(this.props.preGoTo, this.props.preGoOff);\n      this.handleEndTime();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props8 = this.props,\n          language = _this$props8.language,\n          starttime = _this$props8.starttime,\n          endtime = _this$props8.endtime,\n          goto = _this$props8.goto,\n          gooff = _this$props8.gooff,\n          isGoOff = _this$props8.isGoOff,\n          loading = _this$props8.loading,\n          endTime = _this$props8.endTime,\n          visible = _this$props8.visible,\n          time = _this$props8.time,\n          isNight = _this$props8.isNight,\n          preGoTo = _this$props8.preGoTo,\n          preGoOff = _this$props8.preGoOff,\n          preHoliDay = _this$props8.preHoliDay;\n      if (loading) return null;\n      return React.createElement(Check, {\n        starttime: starttime,\n        endtime: endtime,\n        language: language,\n        isNight: isNight,\n        time: time,\n        visible: visible,\n        endTime: endTime,\n        isGoOff: isGoOff,\n        goto: goto,\n        gooff: gooff,\n        preGoTo: preGoTo,\n        preGoOff: preGoOff,\n        preHoliDay: preHoliDay,\n        onGoTo: this.handleGoTo,\n        onGoOff: this.handleGoOff,\n        onChangeInput: this.convertState.bind(this),\n        onHandleState: this.handleState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return CommuteCheckContainer;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    loginUserNo: state.login.no,\n    goto: state.commute.get(\"goto\"),\n    gooff: state.commute.get(\"gooff\"),\n    preGoTo: state.commute.get(\"preGoTo\"),\n    preGoOff: state.commute.get(\"preGoOff\"),\n    preHoliDay: state.holiday.get(\"preHoliDay\"),\n    no: state.list.get('no'),\n    isGoOff: state.commute.get('isGoOff'),\n    isNight: state.commute.get('isNight'),\n    endTime: state.commute.get('endTime'),\n    time: state.commute.get('time'),\n    cnt: state.commute.get('cnt'),\n    loading: state.pender.pending['commute/GET_END_TIME'],\n    token: state.login.token,\n    language: state.language.language,\n    starttime: state.time.get('starttime'),\n    endtime: state.time.get('endtime'),\n    searchFromDate: state.list.get('searchFromDate'),\n    searchToDate: state.list.get('searchToDate'),\n    searchState: state.list.get('searchState'),\n    changeView: state.list.get('changeView'),\n    activePage: state.pagination.get('activePage'),\n    totalWorkTime: state.commute.get('totalWorkTime')\n  };\n}, function (dispatch) {\n  return {\n    CommuteActions: bindActionCreators(commuteActions, dispatch),\n    TimeActions: bindActionCreators(timeActions, dispatch),\n    ListActions: bindActionCreators(listActions, dispatch),\n    GetCalList: bindActionCreators(getCalList, dispatch),\n    PaginationActions: bindActionCreators(paginationList, dispatch),\n    StateActions: bindActionCreators(stateActions, dispatch),\n    HoliDayActions: bindActionCreators(holidayActions, dispatch)\n  };\n})(CommuteCheckContainer);","map":{"version":3,"sources":["F:/JAVA_WORKSPACE/frontend_react-20191018T023535Z-001/frontend_react/src/containers/commute/CommuteCheckContainer.js"],"names":["React","Component","Check","connect","bindActionCreators","commuteActions","timeActions","listActions","getCalList","paginationList","stateActions","holidayActions","moment","locale","CommuteCheckContainer","handleCommute","props","searchFromDate","searchToDate","activePage","ListActions","GetCalList","PaginationActions","searchState","changeView","StateActions","token","loginUserNo","language","search","userName","searchUserNo","select","pageNumber","pageChange","getTableList","getList","getCommuteSearchStateList","getSearchPage","getCommuteCalendarStateList","console","log","handleGoTo","preGoTo","CommuteActions","goTo","getPreGoTo","handleGoOff","preGoOff","TimeActions","totalWorkTime","goOff","getPreGoOff","handleState","HoliDayActions","getPreGoOffData","getPreGoToData","getPreHoliDayData","getGoToData","getGoOffData","handleEndTime","getEndTime","name","value","stateChange","endTime","document","title","commuteCheckTitle","cnt","clearInterval","timerID","nextProps","nextState","convertState","isGoOff","starttime","endtime","goto","gooff","loading","visible","time","isNight","preHoliDay","bind","state","login","no","commute","get","holiday","list","pender","pending","pagination","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Check from 'components/commute/Check';\r\nimport {connect} from \"react-redux\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport * as commuteActions from 'store/modules/commute';\r\nimport * as timeActions from \"store/modules/commute\";\r\nimport * as listActions from 'store/modules/list';\r\nimport * as getCalList from 'store/modules/commutecalendarlist';\r\nimport * as paginationList from 'store/modules/pagination';\r\nimport * as stateActions from 'store/modules/state';\r\nimport * as holidayActions from 'store/modules/holiday';\r\nimport moment from 'moment';\r\nimport locale from 'locale';\r\n\r\nclass CommuteCheckContainer extends Component {\r\n\r\n    handleCommute = async() => {\r\n        const {searchFromDate, searchToDate, activePage, ListActions, GetCalList, PaginationActions, searchState, changeView, StateActions} = this.props;\r\n        const {token, loginUserNo, language} = this.props;\r\n\r\n        const search = {\r\n            searchFromDate,\r\n            searchToDate,\r\n            userName: \"\",\r\n            searchUserNo: loginUserNo,\r\n            searchState,\r\n            select: true\r\n        }\r\n\r\n        const pageNumber = 1\r\n\r\n        PaginationActions.pageChange({activePage, pageNumber});\r\n\r\n        try{\r\n            await ListActions.getTableList(search, pageNumber, true, token, language);\r\n            await GetCalList.getList(search, token, true);\r\n\r\n            if (changeView === \"table\") {\r\n                await StateActions.getCommuteSearchStateList(search, token);\r\n                await PaginationActions.getSearchPage(search, token);\r\n            }\r\n            else{\r\n                await StateActions.getCommuteCalendarStateList(searchFromDate, loginUserNo, \"\", searchState, true, token);\r\n            }\r\n        }\r\n        catch(e){\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    handleGoTo = async(preGoTo) => {\r\n        const { CommuteActions } = this.props;\r\n        const { token } = this.props;\r\n\r\n        try{\r\n            if(preGoTo) {\r\n                await CommuteActions.goTo('출근', '출근 입력', token);\r\n                \r\n            }\r\n            else{\r\n                await CommuteActions.getPreGoTo('출근', '출근 입력', token);\r\n            }\r\n\r\n            this.handleCommute();\r\n        } catch(e){\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    handleGoOff = async(preGoOff) => {\r\n        const { CommuteActions,TimeActions } = this.props;\r\n        const { token,loginUserNo,totalWorkTime } = this.props;\r\n\r\n        try{\r\n            if(preGoOff) {\r\n                await CommuteActions.goOff('퇴근', '퇴근 입력',totalWorkTime, token);\r\n\r\n            }\r\n            else{\r\n\r\n                await CommuteActions.getPreGoOff('퇴근', '퇴근 입력',totalWorkTime, token);\r\n            }\r\n\r\n            this.handleCommute();\r\n        } catch(e){\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    handleState = async(preGoTo, preGoOff) => {\r\n        const {token, CommuteActions, HoliDayActions} = this.props;\r\n\r\n        try{\r\n            await CommuteActions.getPreGoOffData(token);\r\n            await CommuteActions.getPreGoToData(preGoTo, token);\r\n\r\n            await HoliDayActions.getPreHoliDayData(token);\r\n\r\n            await CommuteActions.getGoToData(true, token);\r\n            await CommuteActions.getGoOffData(true, token);\r\n        }\r\n        catch(e){\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    handleEndTime = async() => {\r\n        const {CommuteActions, token} = this.props;\r\n\r\n        try{\r\n            await CommuteActions.getEndTime(token);\r\n        }\r\n        catch(e){\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    convertState(name, value){\r\n        const { CommuteActions } = this.props;\r\n\r\n        CommuteActions.stateChange({name, value});\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {endTime, language} = this.props;\r\n        document.title = locale.commuteCheckTitle[language];\r\n\r\n        const {CommuteActions} = this.props;\r\n        let cnt =0;\r\n        // this.timerID = setInterval(() => {\r\n        //     cnt++;\r\n        //     CommuteActions.changeInput({name:'cnt', value:cnt});\r\n        //     this.tick();\r\n        // }, 1000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.timerID);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        document.title = locale.commuteCheckTitle[nextProps.language];\r\n        \r\n        if(nextProps.endTime !== this.props.endTime){\r\n            this.convertState('endTime', nextProps.endTime);\r\n        }\r\n\r\n        if(nextProps.isGoOff !== this.props.isGoOff){\r\n            this.convertState('isGoOff', nextProps.isGoOff);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.handleState(this.props.preGoTo, this.props.preGoOff);\r\n        this.handleEndTime();\r\n    }\r\n\r\n    render(){\r\n        const { language, starttime, endtime, goto, gooff, isGoOff, loading, endTime, visible, time, isNight, preGoTo, preGoOff, preHoliDay } = this.props;\r\n\r\n        if(loading) return null;\r\n\r\n        return(\r\n                <Check starttime={starttime} endtime={endtime} language = {language} isNight={isNight} time={time} visible={visible} endTime={endTime}\r\n                       isGoOff={isGoOff} goto={goto} gooff={gooff} preGoTo={preGoTo} preGoOff={preGoOff} preHoliDay={preHoliDay}\r\n                       onGoTo={this.handleGoTo} onGoOff={this.handleGoOff} onChangeInput={this.convertState.bind(this)} onHandleState={this.handleState}/>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    (state) => ({\r\n        loginUserNo:state.login.no,\r\n        goto: state.commute.get(\"goto\"),\r\n        gooff: state.commute.get(\"gooff\"),\r\n        preGoTo: state.commute.get(\"preGoTo\"),\r\n        preGoOff: state.commute.get(\"preGoOff\"),\r\n        preHoliDay: state.holiday.get(\"preHoliDay\"),\r\n        no: state.list.get('no'),\r\n        isGoOff: state.commute.get('isGoOff'),\r\n        isNight: state.commute.get('isNight'),\r\n        endTime: state.commute.get('endTime'),\r\n        time: state.commute.get('time'),\r\n        cnt : state.commute.get('cnt'),\r\n        loading: state.pender.pending['commute/GET_END_TIME'],\r\n        token: state.login.token,\r\n        language: state.language.language,\r\n        starttime: state.time.get('starttime'),  \r\n        endtime: state.time.get('endtime'),\r\n        searchFromDate: state.list.get('searchFromDate'),\r\n        searchToDate: state.list.get('searchToDate'),\r\n        searchState: state.list.get('searchState'),\r\n        changeView: state.list.get('changeView'),\r\n        activePage: state.pagination.get('activePage'),\r\n        totalWorkTime:state.commute.get('totalWorkTime')\r\n    }),\r\n    (dispatch) => ({\r\n        CommuteActions: bindActionCreators(commuteActions, dispatch),\r\n        TimeActions: bindActionCreators(timeActions, dispatch),\r\n        ListActions: bindActionCreators(listActions, dispatch),\r\n        GetCalList: bindActionCreators(getCalList, dispatch),\r\n        PaginationActions: bindActionCreators(paginationList, dispatch),\r\n        StateActions: bindActionCreators(stateActions, dispatch),\r\n        HoliDayActions: bindActionCreators(holidayActions, dispatch)\r\n    })\r\n)(CommuteCheckContainer);"]},"metadata":{},"sourceType":"module"}