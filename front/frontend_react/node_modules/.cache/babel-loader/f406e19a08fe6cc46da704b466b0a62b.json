{"ast":null,"code":"import _classCallCheck from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\src\\\\components\\\\list\\\\calendar\\\\Calendar.js\";\nimport React, { Component } from \"react\";\nimport FullCalendar from 'fullcalendar-reactwrapper';\nimport 'fullcalendar/dist/fullcalendar.css';\nimport './Calendar.css';\nimport Modal from 'react-awesome-modal';\nimport CalendarCommuteModal from 'components/modal/CalendarCommuteModal';\nimport locale from 'locale'; // axios.defaults.headers.common['Authorization'] = \n//                                 'Bearer ' + localStorage.getItem('jwtToken');\n// axios.defaults.headers.common['Authorization'] = \n// 'Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyIiwiZXhwIjoxNTU2NTAyNDE2LCJpYXQiOjE1NTU4OTc2MTZ9.hK9ujazIT2XpBxLn_kL_gzPEfssICpOurzI8I43D-zkTge0g7MwIReZ_B9y1jNe94gqw71OTnYOliT3AN2ZRbA';\n\nvar Calendar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Calendar, _Component);\n\n  function Calendar(props) {\n    var _this;\n\n    _classCallCheck(this, Calendar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Calendar).call(this, props));\n\n    _this.updateRead = function (no) {\n      var _this$props = _this.props,\n          token = _this$props.token,\n          auth = _this$props.auth,\n          ListActions = _this$props.ListActions;\n      var recordType = \"출퇴근\";\n      ListActions.updateRead(no, auth, recordType, token);\n    };\n\n    _this.state = {\n      date: new Date(),\n      events: [],\n      visible: false,\n      modal: {\n        startTime: \"\",\n        endTime: \"\",\n        startDate: \"\",\n        endDate: \"\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Calendar, [{\n    key: \"openModal\",\n    value: function openModal(info) {\n      //console.log(info);\n      var _this$props2 = this.props,\n          handleChangeInput = _this$props2.handleChangeInput,\n          auth = _this$props2.auth;\n\n      if (auth === \"ROLE_USER\") {\n        this.updateRead(info.startNo);\n      }\n\n      handleChangeInput({\n        name: \"modal\",\n        value: true\n      });\n      handleChangeInput({\n        name: \"toDate\",\n        value: info.data.endDate\n      });\n      handleChangeInput({\n        name: \"endTime\",\n        value: info.data.endTime\n      });\n      handleChangeInput({\n        name: \"fromDate\",\n        value: info.data.startDate\n      });\n      handleChangeInput({\n        name: \"startTime\",\n        value: info.data.startTime\n      });\n      handleChangeInput({\n        name: \"startNo\",\n        value: info.startNo\n      });\n      handleChangeInput({\n        name: \"endNo\",\n        value: info.endNo\n      });\n      handleChangeInput({\n        name: \"userNo\",\n        value: info.userNo\n      });\n    } // (list, calendar)리스트 클릭시 updateRead액션 발생\n    // MongoDB의 key_no와 startNo가 일치하면 read true로 update\n\n  }, {\n    key: \"closeModal\",\n    value: function closeModal() {\n      this.setState({\n        visible: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var ary = [];\n      var _this$props3 = this.props,\n          calList = _this$props3.calList,\n          search = _this$props3.search,\n          language = _this$props3.language;\n      var text = '';\n\n      if (calList != null) {\n        // //console.log(calList);\n        ary = calList.data.map(function (items, index) {\n          // //console.log(items);\n          // if(items.state==\"지각조퇴\")\n          var color = '#DC3545';\n          if (items.state === \"지각\") color = '#FFC107';else if (items.state === \"정상\") color = '#28A745';else if (items.state === \"조퇴\") color = '#999';else if (items.state === \"지각조퇴\") color = '#999';else if (items.state == null) {\n            color = '#007BFF';\n          }\n          var start = items.startDate.split(\" \");\n          var end;\n          var setTitle;\n\n          if (items.endDate != null) {\n            end = items.endDate.split(\" \");\n            var setTitleState = \"\";\n\n            if (language === \"ko\") {\n              if (items.state != null) setTitleState = items.state;else setTitleState = \"미등록\";\n            } else if (language === \"en\") {\n              if (items.state === \"지각\") setTitleState = \"Lateness\";else if (items.state === \"정상\") setTitleState = \"Normal\";else if (items.state === \"조퇴\") setTitleState = \"Early leave\";else if (items.state === \"지각조퇴\") setTitleState = \"Lateness & Early leave\";else setTitleState = \"Non-enregistrement\";\n            }\n\n            setTitle = items.startDate.substring(10, 16) + \"~\" + items.endDate.substring(10, 16) + \"      \" + setTitleState;\n            return {\n              title: setTitle,\n              start: items.startDate,\n              end: items.endDate,\n              userNo: items.userNo,\n              startNo: items.startNo,\n              endNo: items.endNo,\n              backgroundColor: color,\n              time: items.startDate,\n              data: {\n                startTime: start[1],\n                endTime: end[1],\n                startDate: start[0],\n                endDate: end[0]\n              }\n            };\n          } else {\n            end = null;\n            var _setTitleState = \"\";\n\n            if (language === \"ko\") {\n              _setTitleState = \"~ 퇴근 기록 없음\";\n            } else if (language === \"en\") {\n              _setTitleState = \"~ No record for leaving work \";\n            }\n\n            setTitle = items.startDate.substring(10, 16) + _setTitleState;\n            return {\n              title: setTitle,\n              start: items.startDate,\n              end: items.startDate,\n              userNo: items.userNo,\n              startNo: items.startNo,\n              endNo: items.endNo,\n              backgroundColor: color,\n              time: items.startDate,\n              data: {\n                startTime: start[1],\n                startDate: start[0]\n              }\n            };\n          } // return {\n          //     title:setTitle,\n          //     start:items.startDate,\n          //     end:items.endDate,\n          //     userNo:items.userNo,\n          //     startNo:items.startNo,\n          //     endNo:items.endNo,\n          //     backgroundColor:color,\n          //     data:{\n          //          startTime:start[1],\n          //          endTime:end[1],\n          //          startDate:start[0],\n          //          endDate:end[0]\n          //     }\n          // }\n          //     let color ='#DC3545';\n          //     if(items.state==\"지각\")\n          //     color = '#FFC107';\n          //     else if(items.state==\"정상\")\n          //     color ='#28A745';\n          //     else if(items.state==\"조퇴\")\n          //     color ='#999';\n          // return {title:items.state+\" \"+items.commute, start: items.day,user_no:items.user_no,commute_no:items.commute_no,name:items.name,id:items.id,commute:items.commute,time:items.day,backgroundColor:color}\n\n        });\n      }\n\n      return React.createElement(\"div\", {\n        id: \"full-calendar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(FullCalendar, {\n        id: \"your-custom-ID\",\n        header: {\n          left: 'none',\n          center: 'title',\n          right: 'none'\n        },\n        defaultDate: search.searchFromDate === \"\" ? this.state.date : search.searchFromDate,\n        navLinks: true // can click day/week names to navigate views\n        ,\n        editable: false,\n        eventLimit: true // allow \"more\" link when too many events\n        ,\n        titleFormat: 'YYYY-MM',\n        events: ary,\n        timeFormat: \"HH:mm\",\n        eventClick: function eventClick(info) {\n          return _this2.openModal(info);\n        },\n        droppable: false,\n        displayEventTime: false,\n        locale: language,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Calendar;\n}(Component);\n\nexport default Calendar;","map":{"version":3,"sources":["F:/JAVA_WORKSPACE/frontend_react-20191018T023535Z-001/frontend_react/src/components/list/calendar/Calendar.js"],"names":["React","Component","FullCalendar","Modal","CalendarCommuteModal","locale","Calendar","props","updateRead","no","token","auth","ListActions","recordType","state","date","Date","events","visible","modal","startTime","endTime","startDate","endDate","info","handleChangeInput","startNo","name","value","data","endNo","userNo","setState","ary","calList","search","language","text","map","items","index","color","start","split","end","setTitle","setTitleState","substring","title","backgroundColor","time","left","center","right","searchFromDate","openModal"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport FullCalendar from 'fullcalendar-reactwrapper';\r\nimport 'fullcalendar/dist/fullcalendar.css';\r\nimport './Calendar.css';\r\nimport Modal from 'react-awesome-modal';\r\nimport CalendarCommuteModal from 'components/modal/CalendarCommuteModal';\r\nimport locale from 'locale';\r\n\r\n// axios.defaults.headers.common['Authorization'] = \r\n//                                 'Bearer ' + localStorage.getItem('jwtToken');\r\n\r\n// axios.defaults.headers.common['Authorization'] = \r\n// 'Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ1c2VyIiwiZXhwIjoxNTU2NTAyNDE2LCJpYXQiOjE1NTU4OTc2MTZ9.hK9ujazIT2XpBxLn_kL_gzPEfssICpOurzI8I43D-zkTge0g7MwIReZ_B9y1jNe94gqw71OTnYOliT3AN2ZRbA';\r\nclass Calendar extends Component {\r\n\r\n    constructor(props) {\r\n      \r\n\r\n        super(props);\r\n        \r\n        this.state = {\r\n            date:new Date(),\r\n            events:[],\r\n            visible : false,\r\n            modal:{\r\n                startTime:\"\",\r\n                endTime:\"\",\r\n                startDate:\"\",\r\n                endDate:\"\"\r\n            }\r\n        }\r\n    }\r\n    openModal(info) {\r\n        //console.log(info);\r\n        const{handleChangeInput, auth} = this.props;\r\n        \r\n        if(auth === \"ROLE_USER\") {\r\n            this.updateRead(info.startNo);\r\n        }\r\n        \r\n        handleChangeInput({name:\"modal\",value:true})\r\n        handleChangeInput({name:\"toDate\",value:info.data.endDate})\r\n        handleChangeInput({name:\"endTime\",value:info.data.endTime})\r\n        handleChangeInput({name:\"fromDate\",value:info.data.startDate})\r\n        handleChangeInput({name:\"startTime\",value:info.data.startTime})\r\n        handleChangeInput({name:\"startNo\",value:info.startNo})\r\n        handleChangeInput({name:\"endNo\",value:info.endNo})\r\n        handleChangeInput({name:\"userNo\",value:info.userNo})\r\n  \r\n    }\r\n\r\n    // (list, calendar)리스트 클릭시 updateRead액션 발생\r\n    // MongoDB의 key_no와 startNo가 일치하면 read true로 update\r\n    updateRead = (no) => {\r\n        const {token, auth, ListActions } = this.props;\r\n        const recordType = \"출퇴근\"\r\n        ListActions.updateRead(no, auth, recordType, token);\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({\r\n            visible : false\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let ary=[];\r\n       const{calList,search,language} = this.props;\r\n       const text = '';\r\n       if(calList!=null){\r\n          // //console.log(calList);\r\n        ary= calList.data.map((items,index)=>{\r\n           // //console.log(items);\r\n           // if(items.state==\"지각조퇴\")\r\n           let color ='#DC3545';\r\n               if(items.state === \"지각\")\r\n               color = '#FFC107';\r\n               else if(items.state === \"정상\")\r\n               color ='#28A745';\r\n               else if(items.state === \"조퇴\")\r\n               color ='#999';\r\n               else if(items.state === \"지각조퇴\")\r\n               color ='#999';\r\n               else if(items.state==null){\r\n                   color='#007BFF';\r\n               }\r\n            let start=items.startDate.split(\" \");\r\n            let end;\r\n            let setTitle;\r\n            if(items.endDate!=null){\r\n             end =items.endDate.split(\" \");\r\n             let setTitleState=\"\"; \r\n             if(language === \"ko\")\r\n             {\r\n                 if(items.state!=null)\r\n                setTitleState=items.state;\r\n                else\r\n                setTitleState=\"미등록\";\r\n             }\r\n             else if(language === \"en\")\r\n             {\r\n                if(items.state === \"지각\")\r\n                setTitleState=\"Lateness\"\r\n                else if(items.state === \"정상\")\r\n                setTitleState=\"Normal\"\r\n                else if(items.state === \"조퇴\")\r\n                setTitleState=\"Early leave\"\r\n                else if(items.state === \"지각조퇴\")\r\n                setTitleState=\"Lateness & Early leave\"\r\n                else\r\n                setTitleState=\"Non-enregistrement\"\r\n                \r\n             }\r\n             setTitle = items.startDate.substring(10,16)+\"~\"+items.endDate.substring(10,16)+\"      \"+setTitleState;\r\n             return {\r\n                title:setTitle,\r\n                start:items.startDate,\r\n                end:items.endDate,\r\n                userNo:items.userNo,\r\n                startNo:items.startNo,\r\n                endNo:items.endNo,\r\n                backgroundColor:color,\r\n                time:items.startDate,\r\n                data:{\r\n                     startTime:start[1],\r\n                     endTime:end[1],\r\n                     startDate:start[0],\r\n                     endDate:end[0]\r\n\r\n                }\r\n            }\r\n            }\r\n            else{\r\n             end=null;\r\n             let setTitleState=\"\"; \r\n             if(language === \"ko\")\r\n             {\r\n                setTitleState=\"~ 퇴근 기록 없음\";\r\n             }\r\n             else if(language === \"en\")\r\n             {\r\n                setTitleState=\"~ No record for leaving work \"\r\n                \r\n             }\r\n             setTitle=items.startDate.substring(10,16)+setTitleState\r\n             return {\r\n                title:setTitle,\r\n                start:items.startDate,\r\n                end:items.startDate,\r\n                userNo:items.userNo,\r\n                startNo:items.startNo,\r\n                endNo:items.endNo,\r\n                backgroundColor:color,\r\n                time:items.startDate,\r\n                data:{\r\n                     startTime:start[1],\r\n                     startDate:start[0]\r\n                     \r\n\r\n                }\r\n            }\r\n            }\r\n              \r\n\r\n            // return {\r\n            //     title:setTitle,\r\n            //     start:items.startDate,\r\n            //     end:items.endDate,\r\n            //     userNo:items.userNo,\r\n            //     startNo:items.startNo,\r\n            //     endNo:items.endNo,\r\n            //     backgroundColor:color,\r\n            //     data:{\r\n            //          startTime:start[1],\r\n            //          endTime:end[1],\r\n            //          startDate:start[0],\r\n            //          endDate:end[0]\r\n\r\n            //     }\r\n            // }\r\n        //     let color ='#DC3545';\r\n        //     if(items.state==\"지각\")\r\n        //     color = '#FFC107';\r\n        //     else if(items.state==\"정상\")\r\n        //     color ='#28A745';\r\n        //     else if(items.state==\"조퇴\")\r\n        //     color ='#999';\r\n            \r\n        // return {title:items.state+\" \"+items.commute, start: items.day,user_no:items.user_no,commute_no:items.commute_no,name:items.name,id:items.id,commute:items.commute,time:items.day,backgroundColor:color}\r\n    });\r\n    }\r\n        return (\r\n            <div id=\"full-calendar\">\r\n                <FullCalendar\r\n                    id = \"your-custom-ID\"\r\n                    header = {{\r\n                        left: 'none',\r\n                        center: 'title',\r\n                        right: 'none'\r\n                    }}\r\n                    defaultDate={search.searchFromDate === \"\"?this.state.date:search.searchFromDate}\r\n                   \r\n                    navLinks= {true} // can click day/week names to navigate views\r\n                    editable= {false}\r\n                    eventLimit= {true} // allow \"more\" link when too many events\r\n                    titleFormat={'YYYY-MM'}\r\n                    events = {ary}\r\n                    timeFormat = {\"HH:mm\"}\r\n                    eventClick={ (info)=>{\r\n\r\n                        return this.openModal(info)\r\n                        \r\n                    }\r\n                    }\r\n                    droppable={false}\r\n                    displayEventTime={false}\r\n                    locale={language}\r\n                />\r\n               {/* <Modal visible={this.state.visible} width=\"300\" height=\"300\" effect=\"fadeInUp\" onClickAway={() => this.closeModal()}>\r\n                    <div className = \"Modal\"><br/>\r\n                        <h1>{this.state.modal.title}</h1>\r\n                        <br/>\r\n                        <p>이름: {this.state.modal.name}</p>\r\n                        <p>아이디: {this.state.modal.id}</p>\r\n                        <p>시간 : {this.state.modal.time}</p>\r\n                        <a href=\" \" onClick={() => this.closeModal()}>수정하기</a>\r\n                        &nbsp;&nbsp;&nbsp;\r\n                        <a href=\" \" onClick={() => this.closeModal()}>닫기</a>\r\n                    </div>\r\n                </Modal> */}\r\n                  {/* <CalendarCommuteModal visible={this.state.visible} starttime={this.state.modal.startTime} endtime={this.state.modal.endTime}\r\n                        startdate={this.state.modal.startDate} enddate={this.state.modal.endDate} />  */}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nexport default Calendar;"]},"metadata":{},"sourceType":"module"}