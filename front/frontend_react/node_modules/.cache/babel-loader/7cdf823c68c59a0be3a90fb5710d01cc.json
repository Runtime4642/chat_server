{"ast":null,"code":"import _regeneratorRuntime from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\JAVA_WORKSPACE\\\\frontend_react-20191018T023535Z-001\\\\frontend_react\\\\src\\\\containers\\\\list\\\\PaginationContainer.js\";\nimport React, { Component } from 'react';\nimport Pagination from 'components/list/Pagination';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport * as listActions from 'store/modules/pagination';\nimport * as tableActions from 'store/modules/list';\n\nvar PaginationContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PaginationContainer, _Component);\n\n  function PaginationContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PaginationContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PaginationContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handlePageChange = function (pageNumber) {\n      var _this$props = _this.props,\n          activePage = _this$props.activePage,\n          ListActions = _this$props.ListActions;\n      ListActions.pageChange({\n        activePage: activePage,\n        pageNumber: pageNumber\n      });\n\n      _this.handleList(pageNumber);\n    };\n\n    _this.handlePage =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var _this$props2, ListActions, auth, token, loginUserNo, keyNo;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$props2 = _this.props, ListActions = _this$props2.ListActions, auth = _this$props2.auth, token = _this$props2.token, loginUserNo = _this$props2.loginUserNo;\n              keyNo = null;\n\n              if (sessionStorage.getItem(\"pagekeyNo\") !== \"define\") {\n                keyNo = sessionStorage.getItem(\"pagekeyNo\");\n                sessionStorage.removeItem(\"pagekeyNo\");\n                sessionStorage.setItem(\"pagekeyNo\", \"define\");\n              }\n\n              _context.prev = 3;\n\n              if (!(auth === \"ROLE_ADMIN\" && keyNo === null)) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 7;\n              return ListActions.getPage(token);\n\n            case 7:\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](3);\n              console.log(_context.t0);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 9]]);\n    }));\n\n    _this.handleList =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(pageNumber) {\n        var _this$props3, TableActions, searchFromDate, searchToDate, userName, searchUserNo, no, searchState, select, language, token, paramNo, search;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this$props3 = _this.props, TableActions = _this$props3.TableActions, searchFromDate = _this$props3.searchFromDate, searchToDate = _this$props3.searchToDate, userName = _this$props3.userName, searchUserNo = _this$props3.searchUserNo, no = _this$props3.no, searchState = _this$props3.searchState, select = _this$props3.select, language = _this$props3.language;\n                token = _this.props.token;\n                paramNo = no;\n\n                if (!(searchFromDate === '' && searchToDate === '' && userName === '' && searchUserNo === '' && searchState === '')) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                _context2.prev = 4;\n                _context2.next = 7;\n                return TableActions.getTableList('', pageNumber, select, token, language);\n\n              case 7:\n                _context2.next = 12;\n                break;\n\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](4);\n                console.log(_context2.t0);\n\n              case 12:\n                _context2.next = 23;\n                break;\n\n              case 14:\n                _context2.prev = 14;\n                search = {\n                  searchFromDate: searchFromDate,\n                  searchToDate: searchToDate,\n                  userName: userName,\n                  paramNo: paramNo,\n                  searchState: searchState\n                };\n                _context2.next = 18;\n                return TableActions.getTableList(search, pageNumber, select, token, language);\n\n              case 18:\n                _context2.next = 23;\n                break;\n\n              case 20:\n                _context2.prev = 20;\n                _context2.t1 = _context2[\"catch\"](14);\n                console.log(_context2.t1);\n\n              case 23:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[4, 9], [14, 20]]);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(PaginationContainer, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.handlePage();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var ListActions = this.props.ListActions;\n      ListActions.initialize();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          activePage = _this$props4.activePage,\n          totalCount = _this$props4.totalCount,\n          changeView = _this$props4.changeView;\n      if (changeView !== 'table') return null;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Pagination, {\n        activePage: activePage,\n        totalCount: totalCount,\n        onChange: this.handlePageChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PaginationContainer;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    activePage: state.pagination.get(\"activePage\"),\n    totalCount: state.pagination.get(\"totalCount\"),\n    searchFromDate: state.list.get(\"searchFromDate\"),\n    searchToDate: state.list.get(\"searchToDate\"),\n    userName: state.list.get(\"userName\"),\n    searchState: state.list.get(\"searchState\"),\n    searchUserNo: state.list.get(\"searchUserNo\"),\n    no: state.list.get(\"no\"),\n    select: state.list.get('select'),\n    tables: state.list.get(\"tables\"),\n    changeView: state.list.get('changeView'),\n    token: state.login.token,\n    auth: state.login.auth,\n    loginUserNo: state.login.no,\n    language: state.language.language\n  };\n}, function (dispatch) {\n  return {\n    ListActions: bindActionCreators(listActions, dispatch),\n    TableActions: bindActionCreators(tableActions, dispatch)\n  };\n})(PaginationContainer);","map":{"version":3,"sources":["F:/JAVA_WORKSPACE/frontend_react-20191018T023535Z-001/frontend_react/src/containers/list/PaginationContainer.js"],"names":["React","Component","Pagination","bindActionCreators","connect","listActions","tableActions","PaginationContainer","handlePageChange","pageNumber","props","activePage","ListActions","pageChange","handleList","handlePage","auth","token","loginUserNo","keyNo","sessionStorage","getItem","removeItem","setItem","getPage","console","log","TableActions","searchFromDate","searchToDate","userName","searchUserNo","no","searchState","select","language","paramNo","getTableList","search","initialize","totalCount","changeView","state","pagination","get","list","tables","login","dispatch"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,SAAQC,kBAAR,QAAiC,OAAjC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAO,KAAKC,WAAZ,MAA6B,0BAA7B;AACA,OAAO,KAAKC,YAAZ,MAA8B,oBAA9B;;IAGMC,mB;;;;;;;;;;;;;;;;;;UAEFC,gB,GAAmB,UAACC,UAAD,EAAe;AAAA,wBACI,MAAKC,KADT;AAAA,UACvBC,UADuB,eACvBA,UADuB;AAAA,UACXC,WADW,eACXA,WADW;AAG9BA,MAAAA,WAAW,CAACC,UAAZ,CAAuB;AAACF,QAAAA,UAAU,EAAVA,UAAD;AAAaF,QAAAA,UAAU,EAAVA;AAAb,OAAvB;;AACA,YAAKK,UAAL,CAAgBL,UAAhB;AACH,K;;UAEDM,U;;;;6BAAa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,6BACwC,MAAKL,KAD7C,EACFE,WADE,gBACFA,WADE,EACWI,IADX,gBACWA,IADX,EACiBC,KADjB,gBACiBA,KADjB,EACwBC,WADxB,gBACwBA,WADxB;AAELC,cAAAA,KAFK,GAEG,IAFH;;AAGT,kBAAGC,cAAc,CAACC,OAAf,CAAuB,WAAvB,MAAwC,QAA3C,EAAqD;AACjDF,gBAAAA,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAR;AACAD,gBAAAA,cAAc,CAACE,UAAf,CAA0B,WAA1B;AACAF,gBAAAA,cAAc,CAACG,OAAf,CAAuB,WAAvB,EAAoC,QAApC;AACH;;AAPQ;;AAAA,oBAUFP,IAAI,KAAG,YAAP,IAAuBG,KAAK,KAAK,IAV/B;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAWKP,WAAW,CAACY,OAAZ,CAAoBP,KAApB,CAXL;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAeLQ,cAAAA,OAAO,CAACC,GAAR;;AAfK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;UAmBbZ,U;;;;;+BAAa,kBAAML,UAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,+BACuG,MAAKC,KAD5G,EACFiB,YADE,gBACFA,YADE,EACYC,cADZ,gBACYA,cADZ,EAC4BC,YAD5B,gBAC4BA,YAD5B,EAC0CC,QAD1C,gBAC0CA,QAD1C,EACoDC,YADpD,gBACoDA,YADpD,EACkEC,EADlE,gBACkEA,EADlE,EACsEC,WADtE,gBACsEA,WADtE,EACmFC,MADnF,gBACmFA,MADnF,EAC2FC,QAD3F,gBAC2FA,QAD3F;AAEDlB,gBAAAA,KAFC,GAES,MAAKP,KAFd,CAEDO,KAFC;AAGHmB,gBAAAA,OAHG,GAGOJ,EAHP;;AAAA,sBAKNJ,cAAc,KAAK,EAAnB,IAAyBC,YAAY,KAAK,EAA1C,IAAgDC,QAAQ,KAAK,EAA7D,IAAmEC,YAAY,KAAK,EAApF,IAA0FE,WAAW,KAAK,EALpG;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAUKN,YAAY,CAACU,YAAb,CAA0B,EAA1B,EAA8B5B,UAA9B,EAA0CyB,MAA1C,EAAkDjB,KAAlD,EAAyDkB,QAAzD,CAVL;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAYDV,gBAAAA,OAAO,CAACC,GAAR;;AAZC;AAAA;AAAA;;AAAA;AAAA;AAiBKY,gBAAAA,MAjBL,GAiBc;AAACV,kBAAAA,cAAc,EAAdA,cAAD;AAAiBC,kBAAAA,YAAY,EAAZA,YAAjB;AAA+BC,kBAAAA,QAAQ,EAARA,QAA/B;AAAyCM,kBAAAA,OAAO,EAAPA,OAAzC;AAAkDH,kBAAAA,WAAW,EAAXA;AAAlD,iBAjBd;AAAA;AAAA,uBAmBKN,YAAY,CAACU,YAAb,CAA0BC,MAA1B,EAAkC7B,UAAlC,EAA8CyB,MAA9C,EAAsDjB,KAAtD,EAA6DkB,QAA7D,CAnBL;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAsBDV,gBAAAA,OAAO,CAACC,GAAR;;AAtBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;yCA2BQ;AACjB,WAAKX,UAAL;AACH;;;wCAEmB;AAAA,UACRH,WADQ,GACQ,KAAKF,KADb,CACRE,WADQ;AAGhBA,MAAAA,WAAW,CAAC2B,UAAZ;AACH;;;6BAEO;AAAA,yBACyC,KAAK7B,KAD9C;AAAA,UACGC,UADH,gBACGA,UADH;AAAA,UACe6B,UADf,gBACeA,UADf;AAAA,UAC2BC,UAD3B,gBAC2BA,UAD3B;AAEJ,UAAGA,UAAU,KAAK,OAAlB,EAA2B,OAAO,IAAP;AAE3B,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,UAAD;AAAY,QAAA,UAAU,EAAE9B,UAAxB;AAAoC,QAAA,UAAU,EAAE6B,UAAhD;AAA4D,QAAA,QAAQ,EAAE,KAAKhC,gBAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ;AAKH;;;;EA1E6BP,S;;AA6ElC,eAAeG,OAAO,CAClB,UAACsC,KAAD;AAAA,SAAY;AACR/B,IAAAA,UAAU,EAAE+B,KAAK,CAACC,UAAN,CAAiBC,GAAjB,CAAqB,YAArB,CADJ;AAERJ,IAAAA,UAAU,EAAEE,KAAK,CAACC,UAAN,CAAiBC,GAAjB,CAAqB,YAArB,CAFJ;AAGRhB,IAAAA,cAAc,EAAEc,KAAK,CAACG,IAAN,CAAWD,GAAX,CAAe,gBAAf,CAHR;AAIRf,IAAAA,YAAY,EAAEa,KAAK,CAACG,IAAN,CAAWD,GAAX,CAAe,cAAf,CAJN;AAKRd,IAAAA,QAAQ,EAAEY,KAAK,CAACG,IAAN,CAAWD,GAAX,CAAe,UAAf,CALF;AAMRX,IAAAA,WAAW,EAAES,KAAK,CAACG,IAAN,CAAWD,GAAX,CAAe,aAAf,CANL;AAORb,IAAAA,YAAY,EAAEW,KAAK,CAACG,IAAN,CAAWD,GAAX,CAAe,cAAf,CAPN;AAQRZ,IAAAA,EAAE,EAAEU,KAAK,CAACG,IAAN,CAAWD,GAAX,CAAe,IAAf,CARI;AASRV,IAAAA,MAAM,EAAEQ,KAAK,CAACG,IAAN,CAAWD,GAAX,CAAe,QAAf,CATA;AAURE,IAAAA,MAAM,EAAEJ,KAAK,CAACG,IAAN,CAAWD,GAAX,CAAe,QAAf,CAVA;AAWRH,IAAAA,UAAU,EAAEC,KAAK,CAACG,IAAN,CAAWD,GAAX,CAAe,YAAf,CAXJ;AAYR3B,IAAAA,KAAK,EAAEyB,KAAK,CAACK,KAAN,CAAY9B,KAZX;AAaRD,IAAAA,IAAI,EAAE0B,KAAK,CAACK,KAAN,CAAY/B,IAbV;AAcRE,IAAAA,WAAW,EAAEwB,KAAK,CAACK,KAAN,CAAYf,EAdjB;AAeRG,IAAAA,QAAQ,EAAEO,KAAK,CAACP,QAAN,CAAeA;AAfjB,GAAZ;AAAA,CADkB,EAkBlB,UAACa,QAAD;AAAA,SAAe;AACXpC,IAAAA,WAAW,EAAET,kBAAkB,CAACE,WAAD,EAAc2C,QAAd,CADpB;AAEXrB,IAAAA,YAAY,EAAExB,kBAAkB,CAACG,YAAD,EAAe0C,QAAf;AAFrB,GAAf;AAAA,CAlBkB,CAAP,CAsBbzC,mBAtBa,CAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport Pagination from 'components/list/Pagination';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport * as listActions from 'store/modules/pagination';\r\nimport * as tableActions from 'store/modules/list';\r\n\r\n\r\nclass PaginationContainer extends Component {\r\n\r\n    handlePageChange = (pageNumber) =>{\r\n        const {activePage, ListActions} = this.props;\r\n\r\n        ListActions.pageChange({activePage, pageNumber});\r\n        this.handleList(pageNumber);\r\n    }\r\n\r\n    handlePage = async() => {\r\n        const {ListActions, auth, token, loginUserNo } = this.props;\r\n        let keyNo = null;\r\n        if(sessionStorage.getItem(\"pagekeyNo\") !== \"define\") {\r\n            keyNo = sessionStorage.getItem(\"pagekeyNo\");\r\n            sessionStorage.removeItem(\"pagekeyNo\");\r\n            sessionStorage.setItem(\"pagekeyNo\", \"define\");\r\n        }\r\n        try {\r\n            \r\n            if(auth===\"ROLE_ADMIN\" && keyNo === null){\r\n                await ListActions.getPage(token);\r\n            }\r\n\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    handleList = async(pageNumber) => {\r\n        const {TableActions, searchFromDate, searchToDate, userName, searchUserNo, no, searchState, select, language} = this.props;\r\n        const { token } = this.props;\r\n        const paramNo = no;\r\n\r\n        if(searchFromDate === '' && searchToDate === '' && userName === '' && searchUserNo === '' && searchState === '') {\r\n            try {\r\n                //console.log(\"change page : \" + pageNumber);\r\n                //console.log(\"select : \" + select);\r\n\r\n                await TableActions.getTableList('', pageNumber, select, token, language);\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n        }\r\n        else{\r\n            try{\r\n                const search = {searchFromDate, searchToDate, userName, paramNo, searchState};\r\n\r\n                await TableActions.getTableList(search, pageNumber, select, token, language);\r\n            }\r\n            catch(e){\r\n                console.log(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.handlePage();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { ListActions } = this.props;\r\n\r\n        ListActions.initialize();\r\n    }\r\n\r\n    render(){\r\n        const {activePage, totalCount, changeView} = this.props;\r\n        if(changeView !== 'table') return null;\r\n\r\n        return(\r\n            <div>\r\n                <Pagination activePage={activePage} totalCount={totalCount} onChange={this.handlePageChange}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    (state) => ({\r\n        activePage: state.pagination.get(\"activePage\"),\r\n        totalCount: state.pagination.get(\"totalCount\"),\r\n        searchFromDate: state.list.get(\"searchFromDate\"),\r\n        searchToDate: state.list.get(\"searchToDate\"),\r\n        userName: state.list.get(\"userName\"),\r\n        searchState: state.list.get(\"searchState\"),\r\n        searchUserNo: state.list.get(\"searchUserNo\"),\r\n        no: state.list.get(\"no\"),\r\n        select: state.list.get('select'),\r\n        tables: state.list.get(\"tables\"),\r\n        changeView: state.list.get('changeView'),\r\n        token: state.login.token,\r\n        auth: state.login.auth,\r\n        loginUserNo: state.login.no,\r\n        language: state.language.language\r\n    }),\r\n    (dispatch) => ({\r\n        ListActions: bindActionCreators(listActions, dispatch),\r\n        TableActions: bindActionCreators(tableActions, dispatch)\r\n    })\r\n)(PaginationContainer);"]},"metadata":{},"sourceType":"module"}